# TASKS: ArBot 개발 태스크 목록

> **Version**: 1.0
> **Date**: 2026-02-08

---

## Phase 1: 기반 인프라 & 데이터 수집 (MVP)

### Sprint 1: 프로젝트 초기 설정 (Week 1-2)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-001 | 프로젝트 스캐폴딩 | Python 프로젝트 구조 생성, pyproject.toml, 린터/포매터 설정 (ruff, mypy) | P0 | - |
| T-002 | Docker 환경 구성 | docker-compose.yml (PostgreSQL, ClickHouse, Redis, Grafana) | P0 | - |
| T-003 | 설정 관리 시스템 | YAML 기반 설정 로더, 환경변수 오버라이드, Pydantic Settings | P0 | T-001 |
| T-004 | 로깅 프레임워크 | structlog 기반 구조화 로깅, 로그 레벨/포맷 설정 | P0 | T-001 |
| T-005 | 데이터 모델 정의 | Pydantic 모델: OrderBook, Trade, Signal, Balance, Config | P0 | T-001 |
| T-006 | DB 스키마 초기화 | PostgreSQL/ClickHouse 테이블 생성, 마이그레이션 스크립트 | P0 | T-002 |

### Sprint 2: 거래소 커넥터 - Core (Week 3-4)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-010 | BaseConnector 구현 | 추상 커넥터 인터페이스, 공통 로직 (재연결, 에러 처리) | P0 | T-005 |
| T-011 | WebSocket Manager | 연결 풀, 자동 재연결, 하트비트, 구독 관리 | P0 | T-010 |
| T-012 | Rate Limiter | 거래소별 Rate Limit 정책 구현 (weight, count, token-bucket) | P0 | T-010 |
| T-013 | Binance 커넥터 | WebSocket 오더북/체결 구독, REST 잔고/주문 API | P0 | T-010, T-011, T-012 |
| T-014 | OKX 커넥터 | WebSocket + REST API 통합 | P0 | T-010, T-011, T-012 |
| T-015 | Bybit 커넥터 | WebSocket + REST API 통합 | P1 | T-010, T-011, T-012 |
| T-016 | Upbit 커넥터 | WebSocket + REST API 통합 (KRW 마켓) | P1 | T-010, T-011, T-012 |
| T-017 | Bithumb 커넥터 | WebSocket + REST API 통합 (KRW 마켓) | P2 | T-010, T-011, T-012 |

### Sprint 3: 거래소 커넥터 - Extended & 데이터 저장 (Week 5-6)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-020 | KuCoin 커넥터 | WebSocket + REST API 통합 | P2 | T-010 |
| T-021 | Gate.io 커넥터 | WebSocket + REST API 통합 | P2 | T-010 |
| T-022 | Bitget 커넥터 | WebSocket + REST API 통합 | P2 | T-010 |
| T-023 | 데이터 정규화 레이어 | 거래소별 데이터 포맷 → 통합 내부 모델 변환 | P0 | T-013, T-014 |
| T-024 | Redis 가격 캐시 | 실시간 가격/오더북 인메모리 캐싱, Pub/Sub 이벤트 | P0 | T-002, T-023 |
| T-025 | ClickHouse 적재 | 틱 데이터/오더북 스냅샷 배치 적재 파이프라인 | P0 | T-006, T-023 |
| T-026 | PostgreSQL 저장소 | 거래 기록, 시그널, 포트폴리오 CRUD | P0 | T-006 |

### Sprint 4: 가격 수집 엔진 통합 (Week 7-8)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-030 | 가격 수집 오케스트레이터 | 다중 거래소 동시 연결, 라이프사이클 관리 | P0 | T-013, T-014, T-024 |
| T-031 | 타임스탬프 동기화 | 거래소 간 시간 동기화 (NTP 보정) | P0 | T-030 |
| T-032 | 레이턴시 측정기 | 거래소별 수신 레이턴시 측정/기록 | P1 | T-030 |
| T-033 | 연결 상태 모니터링 | 헬스체크, 연결 끊김 감지, 자동 복구 | P0 | T-030 |
| T-034 | 히스토리컬 데이터 수집기 | ccxt를 활용한 과거 OHLCV/체결 데이터 배치 수집 | P1 | T-025 |
| T-035 | 가격 수집 E2E 테스트 | 실제 거래소 WebSocket 연결 통합 테스트 | P0 | T-030 |

---

## Phase 1.5: 차익거래 탐지 & 시뮬레이션 (Week 9-14)

### Sprint 5: 차익거래 탐지 엔진 (Week 9-10)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-040 | 스프레드 계산기 | 수수료/슬리피지 반영 순이익 스프레드 계산 | P0 | T-024 |
| T-041 | Spatial Detector | 거래소 간 가격차 실시간 탐지 | P0 | T-040 |
| T-042 | Triangular Detector | 단일 거래소 삼각 차익 경로 탐색 및 수익 계산 | P1 | T-040 |
| T-043 | Signal 데이터 모델 | ArbitrageSignal 생성, 큐잉, 로깅 | P0 | T-005 |
| T-044 | 기회 탐지 이벤트 스트림 | Redis Streams로 Signal 발행/구독 | P0 | T-024, T-043 |
| T-045 | 탐지 성능 벤치마크 | 탐지 레이턴시 측정 (목표: <10ms) | P1 | T-041 |

### Sprint 6: 백테스팅 프레임워크 (Week 11-12)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-050 | 백테스트 데이터 로더 | ClickHouse에서 히스토리컬 데이터 로딩 | P0 | T-025, T-034 |
| T-051 | 시장 시뮬레이터 | 오더북 기반 체결 시뮬레이션 (슬리피지, 부분 체결) | P0 | T-050 |
| T-052 | 백테스트 엔진 | 이벤트 드리븐 백테스팅 루프 구현 | P0 | T-050, T-051, T-041 |
| T-053 | 성과 지표 계산기 | PnL, Sharpe, Max Drawdown, Win Rate, Profit Factor | P0 | T-052 |
| T-054 | 백테스트 리포트 | HTML/JSON 리포트 생성, PnL 곡선 시각화 | P1 | T-053 |
| T-055 | Walk-Forward 분석 | 시간 순서 학습/검증 분할 자동화 | P2 | T-052 |

### Sprint 7: 페이퍼 트레이딩 (Week 13-14)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-060 | Paper Executor | 실시간 가격 기반 가상 체결 엔진 | P0 | T-051, T-030 |
| T-061 | 가상 포트폴리오 | 가상 잔고 관리, 포지션 추적 | P0 | T-060 |
| T-062 | 실시간 PnL 트래커 | 가상 거래 실시간 PnL 계산 | P0 | T-061 |
| T-063 | 시뮬레이션 모드 통합 | 탐지→리스크체크→가상실행 전체 파이프라인 | P0 | T-041, T-060 |
| T-064 | 시뮬레이션 결과 대시보드 API | REST API로 시뮬레이션 결과 제공 | P1 | T-062, T-026 |

---

## Phase 2: 리스크 관리 & 알고리즘 최적화 (Week 15-22)

### Sprint 8: 리스크 관리 모듈 (Week 15-16)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-070 | Risk Manager 코어 | 리스크 체크 파이프라인, 시그널 필터링 | P0 | T-043 |
| T-071 | 포지션 리미터 | 코인별/거래소별/전체 포지션 한도 관리 | P0 | T-070 |
| T-072 | Drawdown 모니터 | 실시간 드로다운 계산, 임계값 초과 시 경고/정지 | P0 | T-070 |
| T-073 | 이상 가격 감지기 | Flash Crash, 비정상 스프레드 감지 | P0 | T-070, T-024 |
| T-074 | Circuit Breaker | 연속 손실/이상 상황 시 자동 거래 중단 | P0 | T-070 |
| T-075 | 리스크 파라미터 튜닝 | 백테스팅 결과 기반 최적 파라미터 탐색 | P1 | T-052, T-070 |

### Sprint 9: 통계적 차익거래 (Week 17-18)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-080 | 공적분 분석기 | Engle-Granger / Johansen 테스트 구현 | P1 | T-050 |
| T-081 | 페어 스캐너 | 자동 공적분 페어 탐색 (전체 코인 조합) | P1 | T-080 |
| T-082 | Z-Score 시그널 생성 | 실시간 Z-Score 계산 및 진입/청산 시그널 | P1 | T-080 |
| T-083 | Statistical Detector | 통계적 차익 탐지 엔진 통합 | P1 | T-081, T-082 |
| T-084 | Stat Arb 백테스팅 | 통계적 차익 전략 백테스팅 | P1 | T-052, T-083 |

### Sprint 10: 리밸런싱 & 모니터링 (Week 19-20)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-090 | 잔고 모니터 | 다중 거래소 잔고 실시간 모니터링 | P0 | T-013, T-014, T-015 |
| T-091 | 리밸런싱 최적화기 | 최적 자금 이동 경로/금액 계산 | P1 | T-090 |
| T-092 | 전송 네트워크 선택기 | 네트워크별 수수료/속도 비교, 최적 네트워크 자동 선택 | P1 | T-091 |
| T-093 | 리밸런싱 실행기 (알림 모드) | 리밸런싱 필요 시 알림 (자동 실행은 Phase 3) | P1 | T-091, T-100 |
| T-094 | Prometheus 메트릭 | 시스템 메트릭 수집 (레이턴시, 연결 상태, PnL) | P1 | T-030 |
| T-095 | Grafana 대시보드 | 사전 구성 대시보드 (가격, 스프레드, PnL, 시스템 상태) | P1 | T-094 |

### Sprint 11: 알림 & 알고리즘 최적화 (Week 21-22)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-100 | Telegram 알림 봇 | 기회 탐지, PnL, 에러, 서킷 브레이커 알림 | P0 | - |
| T-101 | 알림 매니저 | 알림 우선순위, 스로틀링, 중복 방지 | P0 | T-100 |
| T-102 | 전략 파라미터 최적화 | 그리드 서치/베이지안 최적화로 최적 파라미터 탐색 | P1 | T-052, T-053 |
| T-103 | 다중 전략 비교 리포트 | Spatial vs Triangular vs Statistical 성과 비교 | P1 | T-041, T-042, T-083 |
| T-104 | 실시간 vs 백테스트 괴리 분석 | 페이퍼 트레이딩 결과와 백테스팅 결과 비교 분석 | P1 | T-052, T-063 |

---

## Phase 3: 실전 트레이딩 (Week 23-30)

### Sprint 12: 실전 실행 엔진 (Week 23-24)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-110 | Live Executor | 실제 거래소 API 주문 실행 (Limit, IOC) | P0 | T-013, T-014 |
| T-111 | 동시 주문 실행 | 양 거래소 동시 매수/매도 (asyncio.gather) | P0 | T-110 |
| T-112 | 주문 상태 추적기 | 주문 체결/부분체결/취소 상태 실시간 추적 | P0 | T-110 |
| T-113 | 부분 체결 처리 | 한쪽만 체결된 경우 잔여 포지션 처리 전략 | P0 | T-112 |
| T-114 | 실전 모드 통합 | 탐지→리스크→실행→기록 전체 파이프라인 | P0 | T-110, T-070 |
| T-115 | 긴급 정지 시스템 | 원클릭 전체 포지션 정리 + 봇 중단 | P0 | T-110 |

### Sprint 13: 자동 리밸런싱 & 안정화 (Week 25-26)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-120 | 자동 리밸런싱 실행 | 임계값 초과 시 자동 자금 이동 | P1 | T-091, T-110 |
| T-121 | 출금/입금 상태 추적 | 블록체인 확인 대기 중 상태 관리 | P1 | T-120 |
| T-122 | 그레이스풀 셧다운 | 미체결 주문 취소, 포지션 정리 후 종료 | P0 | T-110 |
| T-123 | 장애 복구 (Resume) | 비정상 종료 후 재시작 시 상태 복구 | P0 | T-112 |
| T-124 | 스트레스 테스트 | 고변동성/고지연 시나리오 시뮬레이션 | P1 | T-114 |

### Sprint 14: 대시보드 & 운영 도구 (Week 27-28)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-130 | 웹 대시보드 프론트엔드 | Next.js 기반 실시간 대시보드 | P1 | T-064 |
| T-131 | 실시간 가격 비교 차트 | 거래소별 가격 오버레이 차트 | P1 | T-130 |
| T-132 | 거래 히스토리 뷰어 | 거래 내역 검색/필터/상세 보기 | P1 | T-130 |
| T-133 | PnL 대시보드 | 일별/주별/월별 수익 추이 | P1 | T-130 |
| T-134 | 시스템 상태 패널 | 거래소 연결, 레이턴시, 에러율 | P1 | T-130, T-094 |

### Sprint 15: 성능 최적화 & 보안 강화 (Week 29-30)

| ID | 태스크 | 설명 | 우선순위 | 의존성 |
|----|--------|------|----------|--------|
| T-140 | uvloop 적용 | 이벤트 루프 성능 최적화 | P1 | T-114 |
| T-141 | orjson 적용 | JSON 파싱 성능 최적화 | P1 | T-114 |
| T-142 | 핫패스 프로파일링 | cProfile/py-spy로 병목 구간 식별 | P1 | T-114 |
| T-143 | API 키 암호화 | AES-256 암호화 저장/로딩 | P0 | T-003 |
| T-144 | 감사 로그 | 모든 주문/리밸런싱 활동 불변 로그 | P0 | T-110 |
| T-145 | 보안 점검 | API 키 권한 분리, IP 화이트리스트 검증 | P0 | T-143 |

---

## 부록: 태스크 의존성 그래프 (요약)

```
T-001 ──▶ T-003 ──▶ T-010 ──▶ T-013 ──▶ T-030 ──▶ T-041 ──▶ T-063 ──▶ T-114
  │         │                    │                    │
  │         │                    ▼                    ▼
  │         │              T-014, T-015         T-042, T-083
  │         │
  ▼         ▼
T-004    T-005 ──▶ T-043

T-002 ──▶ T-006 ──▶ T-025 ──▶ T-050 ──▶ T-052 ──▶ T-053
  │                    │
  ▼                    ▼
T-024              T-034
```

---

## 마일스톤 요약

| 마일스톤 | 기간 | 핵심 산출물 |
|----------|------|------------|
| **M1: 데이터 수집 파이프라인** | Week 1-8 | 5+ 거래소 실시간 가격 수집, 틱 데이터 저장 |
| **M2: 탐지 & 시뮬레이션** | Week 9-14 | 차익 기회 탐지, 백테스팅 프레임워크, 페이퍼 트레이딩 |
| **M3: 리스크 & 최적화** | Week 15-22 | 리스크 관리, 통계적 차익, 모니터링, 전략 최적화 |
| **M4: 실전 트레이딩** | Week 23-30 | 실전 주문 실행, 자동 리밸런싱, 대시보드, 보안 |
